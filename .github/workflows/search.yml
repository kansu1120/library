name: Auto Build Search Index on: push: branches: [ "main" ] jobs: build: runs-on: ubuntu-latest permissions: contents: write # ← これを追加 steps: - uses: actions/checkout@v3 - name: Setup Node uses: actions/setup-node@v3 with: node-version: "18" - name: Build index run: node build_index.js - name: Commit index run: | git config user.name "github-actions" git config user.email "actions@github.com" git add search_index.json git commit -m "auto update search index" || echo "no change" git push
